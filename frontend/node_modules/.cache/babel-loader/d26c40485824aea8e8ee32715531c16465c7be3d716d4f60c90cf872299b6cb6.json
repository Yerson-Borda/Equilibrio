{"ast":null,"code":"// src/services/api.js\nconst API_BASE_URL = '/api/v1';\nclass ApiService {\n  constructor() {\n    this.token = localStorage.getItem('token');\n  }\n  setToken(token) {\n    this.token = token;\n    localStorage.setItem('token', token);\n  }\n  removeToken() {\n    this.token = null;\n    localStorage.removeItem('token');\n  }\n  getAuthHeaders() {\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n    if (this.token) {\n      headers['Authorization'] = `Bearer ${this.token}`;\n    }\n    return headers;\n  }\n  async handleResponse(response) {\n    var _response$headers$get;\n    console.log('=== RESPONSE DEBUG ===');\n    console.log('URL:', response.url);\n    console.log('Status:', response.status);\n    console.log('Status Text:', response.statusText);\n    console.log('Content-Type:', response.headers.get('content-type'));\n    const text = await response.text();\n    console.log('Raw response (first 500 chars):', text.substring(0, 500));\n\n    // Check if it's HTML\n    if (text.includes('<!DOCTYPE html>') || text.includes('<html>') || (_response$headers$get = response.headers.get('content-type')) !== null && _response$headers$get !== void 0 && _response$headers$get.includes('text/html')) {\n      console.log('‚ùå Server returned HTML instead of JSON');\n\n      // Try to extract error information from HTML\n      let errorMessage = 'Server returned HTML error page';\n\n      // Common HTML error patterns\n      if (text.includes('404') || text.includes('Not Found')) {\n        errorMessage = 'API endpoint not found (404). Check if the URL is correct.';\n      } else if (text.includes('500') || text.includes('Internal Server Error')) {\n        errorMessage = 'Server internal error (500). Check backend logs.';\n      } else if (text.includes('405') || text.includes('Method Not Allowed')) {\n        errorMessage = 'Method not allowed (405). Check if you\\'re using the correct HTTP method.';\n      }\n      throw {\n        status: response.status,\n        message: errorMessage,\n        errors: `URL: ${response.url}, Status: ${response.status}`,\n        rawResponse: text.substring(0, 1000)\n      };\n    }\n\n    // Try to parse as JSON\n    let data;\n    try {\n      data = text ? JSON.parse(text) : {};\n      console.log('‚úÖ Parsed JSON data:', data);\n    } catch (e) {\n      console.error('JSON parse error:', e);\n      throw {\n        status: response.status,\n        message: 'Invalid JSON response from server',\n        errors: `Response: ${text.substring(0, 200)}`,\n        rawResponse: text.substring(0, 1000)\n      };\n    }\n    if (!response.ok) {\n      var _data, _data2;\n      throw {\n        status: response.status,\n        message: ((_data = data) === null || _data === void 0 ? void 0 : _data.detail) || `HTTP Error: ${response.status} ${response.statusText}`,\n        errors: ((_data2 = data) === null || _data2 === void 0 ? void 0 : _data2.detail) || data || text\n      };\n    }\n    console.log('‚úÖ Request successful');\n    return data;\n  }\n\n  // Test different endpoint variations\n  async tryEndpointVariations(basePath, method = 'GET', body = null) {\n    const variations = [`${basePath}`, `${basePath}/`, basePath.replace('/api/v1', ''), basePath.replace('/api/v1', '') + '/'];\n    console.log('üîç Testing endpoint variations:');\n    for (const endpoint of variations) {\n      console.log(`Trying: ${endpoint}`);\n      try {\n        var _response$headers$get2;\n        const config = {\n          method: method,\n          headers: this.getAuthHeaders()\n        };\n        if (body && method !== 'GET') {\n          config.body = JSON.stringify(body);\n        }\n        const response = await fetch(endpoint, config);\n        const text = await response.text();\n        console.log(`  Status: ${response.status}, Type: ${response.headers.get('content-type')}`);\n\n        // If we get JSON back, this might be the correct endpoint\n        if ((_response$headers$get2 = response.headers.get('content-type')) !== null && _response$headers$get2 !== void 0 && _response$headers$get2.includes('application/json')) {\n          console.log(`‚úÖ Found working endpoint: ${endpoint}`);\n          return {\n            endpoint,\n            response: {\n              ...response,\n              text\n            }\n          };\n        }\n\n        // If we get a 2xx status with non-HTML, it might be correct\n        if (response.ok && !text.includes('<!DOCTYPE html>') && !text.includes('<html>')) {\n          console.log(`‚úÖ Found potentially working endpoint: ${endpoint}`);\n          return {\n            endpoint,\n            response: {\n              ...response,\n              text\n            }\n          };\n        }\n      } catch (error) {\n        console.log(`  Failed: ${error.message}`);\n      }\n    }\n    return null;\n  }\n\n  // Auth endpoints\n  async login(email, password) {\n    console.log('=== LOGIN REQUEST ===');\n    console.log('Email:', email);\n\n    // First try the standard endpoint\n    const params = new URLSearchParams();\n    params.append('email', email);\n    params.append('password', password);\n    const endpoint = `/api/v1/users/login?${params}`;\n    console.log('Trying endpoint:', endpoint);\n    const response = await fetch(endpoint, {\n      method: 'POST',\n      headers: this.getAuthHeaders()\n    }).catch(error => {\n      console.error('Network error:', error);\n      throw {\n        status: 0,\n        message: 'Network error: Failed to connect to server',\n        errors: error.message\n      };\n    });\n    return this.handleResponse(response);\n  }\n  async register(fullName, email, password) {\n    console.log('=== REGISTER REQUEST ===');\n    console.log('Full Name:', fullName);\n    console.log('Email:', email);\n    const payload = {\n      full_name: fullName,\n      email: email,\n      password: password,\n      default_currency: 'USD'\n    };\n    console.log('Payload:', payload);\n\n    // First try the standard endpoint\n    const endpoint = '/api/v1/users/register';\n    console.log('Trying endpoint:', endpoint);\n    const response = await fetch(endpoint, {\n      method: 'POST',\n      headers: this.getAuthHeaders(),\n      body: JSON.stringify(payload)\n    }).catch(error => {\n      console.error('Network error:', error);\n      throw {\n        status: 0,\n        message: 'Network error: Failed to connect to server',\n        errors: error.message\n      };\n    });\n    return this.handleResponse(response);\n  }\n  async getCurrentUser() {\n    const response = await fetch('/api/v1/users/me', {\n      method: 'GET',\n      headers: this.getAuthHeaders()\n    }).catch(error => {\n      console.error('Network error:', error);\n      throw {\n        status: 0,\n        message: 'Network error: Failed to connect to server',\n        errors: error.message\n      };\n    });\n    return this.handleResponse(response);\n  }\n\n  // Comprehensive backend test\n  async testBackend() {\n    console.log('=== COMPREHENSIVE BACKEND TEST ===');\n    const testUrls = ['/health', '/', '/docs', '/api/v1/users/register', '/api/v1/users/login', '/api/v1/users/me'];\n    const results = [];\n    for (const url of testUrls) {\n      try {\n        console.log(`\\nüîç Testing: ${url}`);\n        const response = await fetch(url, {\n          method: 'GET'\n        });\n        const contentType = response.headers.get('content-type');\n        const text = await response.text();\n        const result = {\n          url,\n          status: response.status,\n          statusText: response.statusText,\n          contentType: contentType,\n          isJson: (contentType === null || contentType === void 0 ? void 0 : contentType.includes('application/json')) || false,\n          isHtml: (contentType === null || contentType === void 0 ? void 0 : contentType.includes('text/html')) || text.includes('<!DOCTYPE html>') || text.includes('<html>'),\n          sample: text.substring(0, 200)\n        };\n        results.push(result);\n        console.log(`  Status: ${response.status} ${response.statusText}`);\n        console.log(`  Content-Type: ${contentType}`);\n        console.log(`  Sample: ${result.sample}`);\n        if (response.ok && result.isJson) {\n          console.log(`  ‚úÖ OK - Returns JSON`);\n        } else if (response.ok && result.isHtml) {\n          console.log(`  ‚ö†Ô∏è OK - Returns HTML (might be Swagger UI)`);\n        } else if (!response.ok) {\n          console.log(`  ‚ùå Error`);\n        }\n      } catch (error) {\n        console.log(`  ‚ùå Failed: ${error.message}`);\n        results.push({\n          url,\n          error: error.message\n        });\n      }\n    }\n    console.log('\\n=== TEST SUMMARY ===');\n    results.forEach(result => {\n      if (result.error) {\n        console.log(`‚ùå ${result.url}: ${result.error}`);\n      } else {\n        console.log(`${result.status === 200 ? '‚úÖ' : '‚ùå'} ${result.url}: ${result.status} ${result.statusText} - ${result.contentType}`);\n      }\n    });\n    return results;\n  }\n  isAuthenticated() {\n    return !!this.token;\n  }\n}\nexport const apiService = new ApiService();","map":{"version":3,"names":["API_BASE_URL","ApiService","constructor","token","localStorage","getItem","setToken","setItem","removeToken","removeItem","getAuthHeaders","headers","handleResponse","response","_response$headers$get","console","log","url","status","statusText","get","text","substring","includes","errorMessage","message","errors","rawResponse","data","JSON","parse","e","error","ok","_data","_data2","detail","tryEndpointVariations","basePath","method","body","variations","replace","endpoint","_response$headers$get2","config","stringify","fetch","login","email","password","params","URLSearchParams","append","catch","register","fullName","payload","full_name","default_currency","getCurrentUser","testBackend","testUrls","results","contentType","result","isJson","isHtml","sample","push","forEach","isAuthenticated","apiService"],"sources":["C:/Users/aswad/Downloads/Development project/Frontend/frontend/src/services/api.jsx"],"sourcesContent":["// src/services/api.js\r\nconst API_BASE_URL = '/api/v1';\r\n\r\nclass ApiService {\r\n    constructor() {\r\n        this.token = localStorage.getItem('token');\r\n    }\r\n\r\n    setToken(token) {\r\n        this.token = token;\r\n        localStorage.setItem('token', token);\r\n    }\r\n\r\n    removeToken() {\r\n        this.token = null;\r\n        localStorage.removeItem('token');\r\n    }\r\n\r\n    getAuthHeaders() {\r\n        const headers = {\r\n            'Content-Type': 'application/json',\r\n        };\r\n\r\n        if (this.token) {\r\n            headers['Authorization'] = `Bearer ${this.token}`;\r\n        }\r\n\r\n        return headers;\r\n    }\r\n\r\n    async handleResponse(response) {\r\n        console.log('=== RESPONSE DEBUG ===');\r\n        console.log('URL:', response.url);\r\n        console.log('Status:', response.status);\r\n        console.log('Status Text:', response.statusText);\r\n        console.log('Content-Type:', response.headers.get('content-type'));\r\n\r\n        const text = await response.text();\r\n        console.log('Raw response (first 500 chars):', text.substring(0, 500));\r\n\r\n        // Check if it's HTML\r\n        if (text.includes('<!DOCTYPE html>') || text.includes('<html>') || response.headers.get('content-type')?.includes('text/html')) {\r\n            console.log('‚ùå Server returned HTML instead of JSON');\r\n\r\n            // Try to extract error information from HTML\r\n            let errorMessage = 'Server returned HTML error page';\r\n\r\n            // Common HTML error patterns\r\n            if (text.includes('404') || text.includes('Not Found')) {\r\n                errorMessage = 'API endpoint not found (404). Check if the URL is correct.';\r\n            } else if (text.includes('500') || text.includes('Internal Server Error')) {\r\n                errorMessage = 'Server internal error (500). Check backend logs.';\r\n            } else if (text.includes('405') || text.includes('Method Not Allowed')) {\r\n                errorMessage = 'Method not allowed (405). Check if you\\'re using the correct HTTP method.';\r\n            }\r\n\r\n            throw {\r\n                status: response.status,\r\n                message: errorMessage,\r\n                errors: `URL: ${response.url}, Status: ${response.status}`,\r\n                rawResponse: text.substring(0, 1000)\r\n            };\r\n        }\r\n\r\n        // Try to parse as JSON\r\n        let data;\r\n        try {\r\n            data = text ? JSON.parse(text) : {};\r\n            console.log('‚úÖ Parsed JSON data:', data);\r\n        } catch (e) {\r\n            console.error('JSON parse error:', e);\r\n            throw {\r\n                status: response.status,\r\n                message: 'Invalid JSON response from server',\r\n                errors: `Response: ${text.substring(0, 200)}`,\r\n                rawResponse: text.substring(0, 1000)\r\n            };\r\n        }\r\n\r\n        if (!response.ok) {\r\n            throw {\r\n                status: response.status,\r\n                message: data?.detail || `HTTP Error: ${response.status} ${response.statusText}`,\r\n                errors: data?.detail || data || text,\r\n            };\r\n        }\r\n\r\n        console.log('‚úÖ Request successful');\r\n        return data;\r\n    }\r\n\r\n    // Test different endpoint variations\r\n    async tryEndpointVariations(basePath, method = 'GET', body = null) {\r\n        const variations = [\r\n            `${basePath}`,\r\n            `${basePath}/`,\r\n            basePath.replace('/api/v1', ''),\r\n            basePath.replace('/api/v1', '') + '/'\r\n        ];\r\n\r\n        console.log('üîç Testing endpoint variations:');\r\n\r\n        for (const endpoint of variations) {\r\n            console.log(`Trying: ${endpoint}`);\r\n            try {\r\n                const config = {\r\n                    method: method,\r\n                    headers: this.getAuthHeaders(),\r\n                };\r\n\r\n                if (body && method !== 'GET') {\r\n                    config.body = JSON.stringify(body);\r\n                }\r\n\r\n                const response = await fetch(endpoint, config);\r\n                const text = await response.text();\r\n\r\n                console.log(`  Status: ${response.status}, Type: ${response.headers.get('content-type')}`);\r\n\r\n                // If we get JSON back, this might be the correct endpoint\r\n                if (response.headers.get('content-type')?.includes('application/json')) {\r\n                    console.log(`‚úÖ Found working endpoint: ${endpoint}`);\r\n                    return { endpoint, response: { ...response, text } };\r\n                }\r\n\r\n                // If we get a 2xx status with non-HTML, it might be correct\r\n                if (response.ok && !text.includes('<!DOCTYPE html>') && !text.includes('<html>')) {\r\n                    console.log(`‚úÖ Found potentially working endpoint: ${endpoint}`);\r\n                    return { endpoint, response: { ...response, text } };\r\n                }\r\n\r\n            } catch (error) {\r\n                console.log(`  Failed: ${error.message}`);\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    // Auth endpoints\r\n    async login(email, password) {\r\n        console.log('=== LOGIN REQUEST ===');\r\n        console.log('Email:', email);\r\n\r\n        // First try the standard endpoint\r\n        const params = new URLSearchParams();\r\n        params.append('email', email);\r\n        params.append('password', password);\r\n\r\n        const endpoint = `/api/v1/users/login?${params}`;\r\n        console.log('Trying endpoint:', endpoint);\r\n\r\n        const response = await fetch(endpoint, {\r\n            method: 'POST',\r\n            headers: this.getAuthHeaders(),\r\n        }).catch(error => {\r\n            console.error('Network error:', error);\r\n            throw {\r\n                status: 0,\r\n                message: 'Network error: Failed to connect to server',\r\n                errors: error.message\r\n            };\r\n        });\r\n\r\n        return this.handleResponse(response);\r\n    }\r\n\r\n    async register(fullName, email, password) {\r\n        console.log('=== REGISTER REQUEST ===');\r\n        console.log('Full Name:', fullName);\r\n        console.log('Email:', email);\r\n\r\n        const payload = {\r\n            full_name: fullName,\r\n            email: email,\r\n            password: password,\r\n            default_currency: 'USD'\r\n        };\r\n\r\n        console.log('Payload:', payload);\r\n\r\n        // First try the standard endpoint\r\n        const endpoint = '/api/v1/users/register';\r\n        console.log('Trying endpoint:', endpoint);\r\n\r\n        const response = await fetch(endpoint, {\r\n            method: 'POST',\r\n            headers: this.getAuthHeaders(),\r\n            body: JSON.stringify(payload),\r\n        }).catch(error => {\r\n            console.error('Network error:', error);\r\n            throw {\r\n                status: 0,\r\n                message: 'Network error: Failed to connect to server',\r\n                errors: error.message\r\n            };\r\n        });\r\n\r\n        return this.handleResponse(response);\r\n    }\r\n\r\n    async getCurrentUser() {\r\n        const response = await fetch('/api/v1/users/me', {\r\n            method: 'GET',\r\n            headers: this.getAuthHeaders(),\r\n        }).catch(error => {\r\n            console.error('Network error:', error);\r\n            throw {\r\n                status: 0,\r\n                message: 'Network error: Failed to connect to server',\r\n                errors: error.message\r\n            };\r\n        });\r\n\r\n        return this.handleResponse(response);\r\n    }\r\n\r\n    // Comprehensive backend test\r\n    async testBackend() {\r\n        console.log('=== COMPREHENSIVE BACKEND TEST ===');\r\n\r\n        const testUrls = [\r\n            '/health',\r\n            '/',\r\n            '/docs',\r\n            '/api/v1/users/register',\r\n            '/api/v1/users/login',\r\n            '/api/v1/users/me'\r\n        ];\r\n\r\n        const results = [];\r\n\r\n        for (const url of testUrls) {\r\n            try {\r\n                console.log(`\\nüîç Testing: ${url}`);\r\n                const response = await fetch(url, { method: 'GET' });\r\n                const contentType = response.headers.get('content-type');\r\n                const text = await response.text();\r\n\r\n                const result = {\r\n                    url,\r\n                    status: response.status,\r\n                    statusText: response.statusText,\r\n                    contentType: contentType,\r\n                    isJson: contentType?.includes('application/json') || false,\r\n                    isHtml: contentType?.includes('text/html') || text.includes('<!DOCTYPE html>') || text.includes('<html>'),\r\n                    sample: text.substring(0, 200)\r\n                };\r\n\r\n                results.push(result);\r\n\r\n                console.log(`  Status: ${response.status} ${response.statusText}`);\r\n                console.log(`  Content-Type: ${contentType}`);\r\n                console.log(`  Sample: ${result.sample}`);\r\n\r\n                if (response.ok && result.isJson) {\r\n                    console.log(`  ‚úÖ OK - Returns JSON`);\r\n                } else if (response.ok && result.isHtml) {\r\n                    console.log(`  ‚ö†Ô∏è OK - Returns HTML (might be Swagger UI)`);\r\n                } else if (!response.ok) {\r\n                    console.log(`  ‚ùå Error`);\r\n                }\r\n\r\n            } catch (error) {\r\n                console.log(`  ‚ùå Failed: ${error.message}`);\r\n                results.push({\r\n                    url,\r\n                    error: error.message\r\n                });\r\n            }\r\n        }\r\n\r\n        console.log('\\n=== TEST SUMMARY ===');\r\n        results.forEach(result => {\r\n            if (result.error) {\r\n                console.log(`‚ùå ${result.url}: ${result.error}`);\r\n            } else {\r\n                console.log(`${result.status === 200 ? '‚úÖ' : '‚ùå'} ${result.url}: ${result.status} ${result.statusText} - ${result.contentType}`);\r\n            }\r\n        });\r\n\r\n        return results;\r\n    }\r\n\r\n    isAuthenticated() {\r\n        return !!this.token;\r\n    }\r\n}\r\n\r\nexport const apiService = new ApiService();"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}